!function(t){var i={};function e(s){if(i[s])return i[s].exports;var l=i[s]={i:s,l:!1,exports:{}};return t[s].call(l.exports,l,l.exports,e),l.l=!0,l.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var l in t)e.d(s,l,function(i){return t[i]}.bind(null,l));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SkillConfig=class{};class s{constructor(t){this.spentPoints=0,this._index=0,this._points=0,this.build=t.build,this.element=t.element,null!=this.element&&(this.index=parseInt(this.element.getAttribute("index")),NaN!=this.index?this.element.addEventListener("mousedown",t=>{this.onMouseDown(t)},!1):console.log("invalid index passed"))}get build(){return this._build}set build(t){this._build=t}get index(){return this._index}set index(t){this._index=t}get points(){return this._points}set points(t){this._points=t}onMouseDown(t){switch(console.log(this._build),t.preventDefault(),t.which){case 1:this.build.SpendPoint(this,1)}}}i.Skill=s;class l{constructor(){this.isLocked=!1,this.level=60,this.spentPoints=0,this._skills=new Map}get skills(){return this._skills}set skills(t){this._skills=t}LoadHash(t){let i=new Map;for(let i=0;i<32;i++){let e=0;e=t.length<i?0:parseInt(t.substr(0,1)),new s({}).points=e}let e=this.isValid(i);if(""==e){for(let t=0;t<32;t++){let e=this.skills.get(t);if(null==e)continue;let s=i.get(t);null!=s&&(e.points=s.points)}console.log("loaded hash, result:"+this.getHash())}else console.log("failed to parse: "+e)}SpendPoint(t,i){if(console.log("spending point at "+t.index+" to value "+i),this.isLocked)return;if(t.points>=5)return void console.log("can't spend point, skill already max");if(this.spentPoints>=this.level)return void console.log("can't spend point, all points spent for level");t.points+=1,this.spentPoints++;let e=this.isValid(this.skills);if(""!=e)return t.points-=1,this.spentPoints--,void console.log("can't spend points: "+e);console.log(this.getHash())}getHash(){let t="";for(let i=0;i<32;i++)t+=this.getSkillPoints(i);return t}isValid(t){if(null==t)return"internal error, null skills used";let i=[1,3,5,7,9,11,12,14,15,17,19,21,23,25,27,29,30,32,33,35,37,39,41,43,45,47,48,50,51,53];for(let t=0;t<i.length;t++)if(this.getSkillPoints(i[t])>0)return"this skill is not valid";let e=this.getSkillPoints(0)+this.getSkillPoints(1)+this.getSkillPoints(2),s=this.getSkillPoints(18)+this.getSkillPoints(19)+this.getSkillPoints(20),l=this.getSkillPoints(36)+this.getSkillPoints(37)+this.getSkillPoints(38),n=this.getSkillPoints(3)+this.getSkillPoints(4)+this.getSkillPoints(5),o=this.getSkillPoints(21)+this.getSkillPoints(22)+this.getSkillPoints(23),r=this.getSkillPoints(39)+this.getSkillPoints(40)+this.getSkillPoints(41);if(e<5&&n>0||s<5&&o>0||l<5&&r>0)return"at least 5 points must be spent in the prior row";n+=e,o+=s,r+=l;let h=this.getSkillPoints(6)+this.getSkillPoints(7)+this.getSkillPoints(8),g=this.getSkillPoints(24)+this.getSkillPoints(25)+this.getSkillPoints(26),u=this.getSkillPoints(42)+this.getSkillPoints(43)+this.getSkillPoints(44);if(n<5&&h>0||o<5&&g>0||r<5&&u>0)return"at least 5 points must be spent in the prior row";h+=n,g+=o,u+=r;let k=this.getSkillPoints(9)+this.getSkillPoints(10)+this.getSkillPoints(11),a=this.getSkillPoints(27)+this.getSkillPoints(28)+this.getSkillPoints(29),d=this.getSkillPoints(45)+this.getSkillPoints(46)+this.getSkillPoints(47);if(h<5&&k>0||g<5&&a>0||u<5&&d>0)return"at least 5 points must be spent in the prior row";k+=h,a+=g,d+=u;let P=this.getSkillPoints(12)+this.getSkillPoints(13)+this.getSkillPoints(14),p=this.getSkillPoints(30)+this.getSkillPoints(31)+this.getSkillPoints(32),S=this.getSkillPoints(48)+this.getSkillPoints(49)+this.getSkillPoints(50);if(k<5&&P>0||a<5&&p>0||d<5&&S>0)return"at least 5 points must be spent in the prior row";P+=k,p+=a,S+=d;let c=this.getSkillPoints(15)+this.getSkillPoints(16)+this.getSkillPoints(17),f=this.getSkillPoints(33)+this.getSkillPoints(34)+this.getSkillPoints(35),b=this.getSkillPoints(51)+this.getSkillPoints(52)+this.getSkillPoints(53);return P<5&&c>0||p<5&&f>0||S<5&&b>0?"at least 5 points must be spent in the prior row":(c+=P,f+=p,b+=S,"")}getSkillPoints(t){let i=this.skills.get(t);return null==i?0:i.points}}i.Build=l,window.onload=(()=>{let t=new l,i=document.getElementsByClassName("skill"),e=new Map;for(let l of i){let i=new s({element:l,build:t});e.set(i.index,i)}t.skills=e,console.log("loaded")})}]);